<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gu√≠a Interactiva Completa</title>
    <link rel="stylesheet" href="CSS/styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Fundamentos de Programaci√≥n</h1>
            <p class="intro">Bienvenido a nuestra gu√≠a de programaci√≥n interactiva. Completa los tres retos en orden para desbloquear un mensaje especial. ¬°Pon a prueba tus habilidades de programaci√≥n!</p>
        </header>

        <main>
            <div class="challenges-container">
                <!-- Reto 1: Funci√≥n suma -->
                <div class="challenge-card" id="challenge1">
                    <div class="challenge-header">
                        <h2>Reto 1: Funci√≥n Suma</h2>
                        <span class="challenge-status unlocked">üîì</span>
                    </div>
                    <div class="challenge-content">
                        <p>Escribe una funci√≥n en JavaScript que sume dos n√∫meros:</p>
                        <div class="code-example">
                            <code>function suma(a, b) {<br>
                            &nbsp;&nbsp;// Tu c√≥digo aqu√≠<br>
                            }</code>
                        </div>
                        <textarea id="code1" placeholder="Escribe tu funci√≥n aqu√≠..." rows="4"></textarea>
                        <button id="submit1" class="submit-btn">Verificar Soluci√≥n</button>
                        <div id="result1" class="result"></div>
                    </div>
                </div>

                <!-- Reto 2: N√∫meros pares -->
                <div class="challenge-card locked" id="challenge2">
                    <div class="challenge-header">
                        <h2>Reto 2: N√∫meros Pares</h2>
                        <span class="challenge-status locked">üîí</span>
                    </div>
                    <div class="challenge-content">
                        <p>Escribe c√≥digo que genere un array con los n√∫meros pares del 1 al 10:</p>
                        <div class="code-example">
                            <code>// Debe retornar [2, 4, 6, 8, 10]</code>
                        </div>
                        <textarea id="code2" placeholder="Escribe tu c√≥digo aqu√≠..." rows="4" disabled></textarea>
                        <button id="submit2" class="submit-btn" disabled>Verificar Soluci√≥n</button>
                        <div id="result2" class="result"></div>
                    </div>
                </div>

                <!-- Reto 3: Pal√≠ndromo -->
                <div class="challenge-card locked" id="challenge3">
                    <div class="challenge-header">
                        <h2>Reto 3: Detector de Pal√≠ndromo</h2>
                        <span class="challenge-status locked">üîí</span>
                    </div>
                    <div class="challenge-content">
                        <p>Escribe una funci√≥n que determine si una palabra es pal√≠ndromo:</p>
                        <div class="code-example">
                            <code>function esPalindromo(palabra) {<br>
                            &nbsp;&nbsp;// Tu c√≥digo aqu√≠<br>
                            }</code>
                        </div>
                        <textarea id="code3" placeholder="Escribe tu funci√≥n aqu√≠..." rows="4" disabled></textarea>
                        <button id="submit3" class="submit-btn" disabled>Verificar Soluci√≥n</button>
                        <div id="result3" class="result"></div>
                    </div>
                </div>
            </div>

            <!-- Mensaje secreto -->
            <div class="secret-message hidden" id="secretMessage">
                <div class="secret-content">
                    <h2>üéâ ¬°Felicidades! üéâ</h2>
                    <p>Has completado todos los retos de la Gu√≠a Interactiva Completa.</p>
                    <p class="motivational">
                        "El c√≥digo no es solo instrucciones para la m√°quina, es la expresi√≥n de tu creatividad y l√≥gica. 
                        Cada l√≠nea que escribes es un paso m√°s hacia convertirte en un mejor programador. 
                        ¬°Sigue practicando y nunca dejes de aprender!"
                    </p>
                    <div class="celebration">‚ú® ¬°Eres incre√≠ble! ‚ú®</div>
                </div>
            </div>
        </main>
    </div>

    <script src="js/script.js"></script>
    
    <!-- Script del Agente DOM Secreto -->
    <script>
        // Variables booleanas para las tres condiciones
        let condicion1_cumplida = false;
        let condicion2_cumplida = false;
        let condicion3_cumplida = false;
        let agenteActivado = false;
        
        // Funci√≥n para verificar si todas las condiciones est√°n cumplidas
        function verificarCondiciones() {
            console.log('üîç Verificando condiciones:', {
                condicion1: condicion1_cumplida,
                condicion2: condicion2_cumplida,
                condicion3: condicion3_cumplida,
                agenteActivado: agenteActivado
            });
            
            if (condicion1_cumplida && condicion2_cumplida && condicion3_cumplida && !agenteActivado) {
                activarAgente();
            }
        }
        
        // Funci√≥n que activa el agente DOM
        function activarAgente() {
            agenteActivado = true;
            console.log('üö® ACTIVANDO AGENTE DOM...');
            
            // Cambiar el t√≠tulo principal
            const titulo = document.querySelector('h1');
            if (titulo) {
                titulo.style.backgroundColor = '#FFD700';
                titulo.style.color = '#000000';
                titulo.style.padding = '10px';
                console.log('‚úÖ T√≠tulo modificado');
            }
            
            // Crear y a√±adir el mensaje de misi√≥n cumplida
            const mensajeMision = document.createElement('p');
            mensajeMision.textContent = 'Misi√≥n Cumplida: Agente DOM activado.';
            mensajeMision.style.fontWeight = 'bold';
            mensajeMision.style.color = '#15803d';
            mensajeMision.style.marginTop = '15px';
            mensajeMision.style.fontSize = '18px';
            mensajeMision.style.textAlign = 'center';
            
            // Insertar despu√©s del t√≠tulo
            titulo.parentNode.insertBefore(mensajeMision, titulo.nextSibling);
            console.log('‚úÖ Mensaje de misi√≥n insertado');
            
            console.log('üéâ AGENTE DOM ACTIVADO EXITOSAMENTE!');
        }
        
        // Funci√≥n para verificar si un reto est√° completado
        function verificarReto(numeroReto) {
            const resultDiv = document.getElementById(`result${numeroReto}`);
            if (resultDiv && resultDiv.classList.contains('success')) {
                return true;
            }
            
            // Verificaci√≥n alternativa por contenido del texto
            if (resultDiv && resultDiv.textContent.includes('Excelente') || 
                resultDiv.textContent.includes('Perfecto') || 
                resultDiv.textContent.includes('Incre√≠ble')) {
                return true;
            }
            
            return false;
        }
        
        // Event listeners para monitorear las condiciones
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üéÆ Agente DOM inicializado - Esperando interacciones...');
            
            // Verificaci√≥n peri√≥dica cada 500ms
            setInterval(() => {
                let cambios = false;
                
                if (!condicion1_cumplida && verificarReto(1)) {
                    condicion1_cumplida = true;
                    console.log('‚úÖ Condici√≥n 1 cumplida');
                    cambios = true;
                }
                
                if (!condicion2_cumplida && verificarReto(2)) {
                    condicion2_cumplida = true;
                    console.log('‚úÖ Condici√≥n 2 cumplida');
                    cambios = true;
                }
                
                if (!condicion3_cumplida && verificarReto(3)) {
                    condicion3_cumplida = true;
                    console.log('‚úÖ Condici√≥n 3 cumplida');
                    cambios = true;
                }
                
                if (cambios) {
                    verificarCondiciones();
                }
            }, 500);
            
            // Event listeners adicionales para los botones
            ['submit1', 'submit2', 'submit3'].forEach((buttonId, index) => {
                const button = document.getElementById(buttonId);
                if (button) {
                    button.addEventListener('click', function() {
                        console.log(`üîò Bot√≥n ${buttonId} presionado`);
                        setTimeout(() => {
                            verificarCondiciones();
                        }, 1000);
                    });
                }
            });
        });
    </script>
</body>
</html>